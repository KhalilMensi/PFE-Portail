@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer localizer
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>@ViewBag.Title</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="~/assets/bootstrap/bootstrap.min.css">
    <!-- custome CSS -->
    <link rel="stylesheet" href="~/assets/css/style.css">
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="~/assets/datatables/css/dataTables.bootstrap4.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" />
    <!--font-awesome-->
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <style>
        p {
            font-family: 'Poppins', sans-serif;
            font-size: 1.1em;
            font-weight: 300;
            line-height: 1.7em;
            color: #999;
        }

        a, a:hover, a:focus {
            color: inherit;
            text-decoration: none;
            transition: all 0.3s;
        }


        /* ---------------------------------------------------
                        SIDEBAR STYLE
                    ----------------------------------------------------- */


        #sidebar {
            background: #7386D5;
            color: #fff;
        }

            #sidebar .sidebar-header {
                padding: 20px;
                background: #6d7fcc;
            }

            #sidebar ul.components {
                padding: 20px 0;
                border-bottom: 1px solid #47748b;
            }

            #sidebar ul p {
                color: #fff;
                padding: 10px;
            }

            #sidebar ul li a {
                padding: 10px;
                font-size: 1.1em;
                display: block;
            }

                #sidebar ul li a:hover {
                    color: #7386D5;
                    background: #fff;
                }

            #sidebar ul li.active > a, a[aria-expanded="true"] {
                color: #6d7fcc;
                background: #fff;
            }


        a[data-toggle="collapse"] {
            position: relative;
        }

        .dropdown-toggle::after {
            display: block;
            position: absolute;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
        }

        ul ul a {
            font-size: 0.9em !important;
            padding-left: 30px !important;
            background: #6d7fcc;
        }

        ul.CTAs {
            padding: 20px;
        }

            ul.CTAs a {
                text-align: center;
                font-size: 0.9em !important;
                display: block;
                border-radius: 5px;
                margin-bottom: 5px;
            }

        a.download {
            background: #fff;
            color: #7386D5;
        }

        a.article, a.article:hover {
            background: #6d7fcc !important;
            color: #fff !important;
        }

        /* ---------------------------------------------------
                        CONTENT STYLE
                    ----------------------------------------------------- */

        #sidebarCollapse {
            width: 40px;
            height: 40px;
            background: #f5f5f5;
            cursor: pointer;
        }

            #sidebarCollapse span {
                width: 80%;
                height: 2px;
                margin: 0 auto;
                display: block;
                background: #555;
                transition: all 0.8s cubic-bezier(0.810, -0.330, 0.345, 1.375);
                transition-delay: 0.2s;
            }

        .info-box {
            display: block;
            min-height: 90px;
            background: #fff;
            width: 100%;
            box-shadow: 0 1px 1px rgba(0,0,0,0.1);
            border-radius: 2px;
            margin-bottom: 15px
        }


        .line {
            width: 100%;
            height: 1px;
            border-bottom: 1px dashed #ddd;
            margin: 40px 0;
        }

        .info-box-icon {
            border-top-left-radius: 2px;
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
            display: block;
            float: left;
            height: 90px;
            width: 90px;
            text-align: center;
            font-size: 45px;
            background: rgba(0,0,0,0.2)
        }

        .info-box-content {
            padding: 5px 10px;
            margin-left: 90px
        }

        .info-box-number {
            display: block;
            font-weight: bold;
            font-size: 18px
        }

        .info-box-text {
            display: block;
            font-size: 14px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-transform: uppercase
        }

        .bg-aqua {
            background-color: #00c0ef !important;
        }

        a.cart:hover {
            text-decoration: none;
            color: #d60e96;
        }

        a.cart .cart-basket {
            font-size: .6rem;
            position: absolute;
            top: -6px;
            right: -5px;
            width: 15px;
            height: 15px;
            color: #fff;
            background-color: #418deb;
            border-radius: 50%;
        }

        a.cart {
            width: 20px;
            height: 20px;
            right: 25px;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            min-width: 250px;
            right: 0;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }

            .dropdown-content span {
                color: black;
                padding: 12px 16px;
                text-decoration: none;
                display: block;
                text-align: center
            }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        /* Change the background color of the dropdown button when the dropdown content is shown */
        .dropdown:hover .dropbtn {
            background-color: #3e8e41;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }
    </style>
</head>
<body>
    <input type="hidden" id="IdUser" name="name" />
    <div id="top-content">
        <div class="header-container">
            <!-- Start Header -->
            <header class="top-header">
                <!-- Top menu -->
                <div class="top-menu">
                    <div class="container">
                        <div class="row justify-content-between has-border">
                            <!-- Langauge -->
                            <div class="col-4 col-md-4">
                                <div class="language">
                                    <partial name="_Culture" />
                                </div>
                            </div>
                            <!-- End Langauge -->
                            <!-- Compte -->
                            <div class="col-8 col-md-4">
                                <div class="compte text-right">
                                    @if (@User.FindFirst(claim => claim.Type == System.Security.Claims.ClaimTypes.Role)?.Value == "Admin" || @User.FindFirst(claim => claim.Type == System.Security.Claims.ClaimTypes.Role)?.Value == "User")
                                    {
                                        <div class="dropdown">
                                            <a asp-action="ListPurchaseLine" asp-controller="PurchaseLine" asp-route-Id="@null" class="cart position-relative d-inline-flex" aria-label="View your shopping cart">
                                                <i class="fas fa fa-shopping-cart fa-lg"></i>
                                                <span id="NbPurchaseLine" class="cart-basket d-flex align-items-center justify-content-center">

                                                </span>
                                            </a>
                                            <div class="card dropdown-content text-left" id="dropdown-content">

                                            </div>
                                        </div>
                                    }
                                    <i class="icon-compte"></i>

                                    @if (@User.FindFirst(claim => claim.Type == System.Security.Claims.ClaimTypes.Role)?.Value != null)
                                    {
                                        <a asp-action="Logout" asp-controller="Account">@localizer["LogOut"]</a>
                                    }
                                    else
                                    {
                                        <a asp-action="Login" asp-controller="Account">@localizer["Login"]</a>
                                        <span> / </span>
                                        <a asp-action="UpsertUser" asp-controller="User">@localizer["SignUp"]</a>
                                    }
                                </div>
                            </div>
                            <!-- End Compte -->
                        </div>
                        <hr>
                    </div>
                </div>
                <!-- End Top menu -->
                <!-- Main menu -->
                <div class="main-menu">
                    <div class="container">
                        <div class="row">
                            <!-- Logo -->
                            <div class="col-12 col-md-3">
                                <div class="logo">
                                    <a asp-action="Index" asp-controller="Home"><img src="~/images/logo.png" alt="Alkifr" /></a>
                                </div>
                            </div>
                            <!-- End Logo -->
                            <!-- Search Form -->
                            <div class="col-12 col-md-9">
                                <div class="search-bloc clearfix">
                                    <form asp-action="Recherche" asp-route-mode="List" asp-controller="Home" method="post">
                                        <div class="input-search">
                                            <input type="text" name="search" id="search">
                                        </div>
                                        <div class="input-submit">
                                            <button type="submit" class="send-form">@localizer["QuickSearch"]</button>
                                            <a href="" class="search-filter">@localizer["AdvancedSearch"]</a>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <!-- End Search Form -->
                        </div>
                    </div>
                </div>
                <!-- End Main menu -->
            </header>
            <!-- End Header -->
        </div>
        <div style="background-color:#f0f2f5">
            <div class="container row col-md-12">
                <!-- Sidebar Holder -->
                <nav class="col-md-2 p-2" id="sidebar">
                    <ul class="list-unstyled components">
                        <li>
                            <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                                <span class="mr-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-fill" viewBox="0 2 16 16">
                                        <path fill-rule="evenodd" d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z" />
                                        <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z" />
                                    </svg>
                                </span>
                                @localizer["Home"]
                            </a>
                            <ul class="collapse list-unstyled" id="homeSubmenu">
                                <li class="@Html.IsActive(actions:"Details", controllers:"User")">
                                    <a href="@Url.Action("Details","User",new { id = -1 })">
                                        <span class="mr-2">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 2 16 16">
                                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                                                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z" />
                                            </svg>
                                        </span>
                                        @localizer["Profil"]
                                    </a>
                                </li>
                                <li class="@Html.IsActive(actions:"UpsertUser", controllers:"User")">
                                    <a href="@Url.Action("UpsertUser","User" ,new { id = -1 })">
                                        <span class="mr-2">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-lines-fill" viewBox="0 2 16 16">
                                                <path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z" />
                                            </svg>
                                        </span>
                                        @localizer["UpdateAccount"]
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="@Html.IsActive(actions:"Index", controllers:"Ebook")">
                            <a href="@Url.Action("Index","Ebook")">
                                @localizer["Ebook"]
                            </a>
                        </li>
                        <li class="@Html.IsActive(actions:"Index", controllers:"Ejournal")">
                            <a href="@Url.Action("Index","Ejournal")">
                                @localizer["Ejournal"]
                            </a>
                        </li>
                        <li class="@Html.IsActive(actions:"Index", controllers:"User")">
                            <a href="@Url.Action("Index","User")">@localizer["User"]</a>
                        </li>
                        <li class="@Html.IsActive(actions:"Index", controllers:"Purchase")">
                            <a href="@Url.Action("Index","Purchase")">@localizer["Purchase"]</a>
                        </li>
                        <li class="@Html.IsActive(actions:"Index", controllers:"PurchaseLine")">
                            <a href="@Url.Action("Index","PurchaseLine")">@localizer["PurchaseLine"]</a>
                        </li>
                        <li class="@Html.IsActive(actions:"UserPurchase", controllers:"Purchase")">
                            <a href="@Url.Action("UserPurchase","Purchase")">@localizer["MyPurchases"]</a>
                        </li>
                        <li>
                            <a href="#">
                                <span class="mr-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
                                        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" />
                                    </svg>
                                </span>
                                @localizer["About"]
                            </a>
                            <a href="#">
                                <span class="mr-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-right-dots" viewBox="0 0 16 16">
                                        <path d="M2 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h9.586a2 2 0 0 1 1.414.586l2 2V2a1 1 0 0 0-1-1H2zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z" />
                                        <path d="M5 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" />
                                    </svg>
                                </span>
                                @localizer["ReachOut"]
                            </a>
                        </li>
                    </ul>
                </nav>
                <div class="col-md-10 p-2" id="content">
                    <div>
                        <div class="row justify-content-between">
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <div class="info-box" onclick="location.href='@Url.Action("Index","User")'" style="cursor:pointer">
                                    <span class="info-box-icon bg-aqua">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#ffffff" class="bi bi-people" viewBox="0 0 16 16">
                                            <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" />
                                        </svg>
                                    </span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">@localizer["NbUser"]</span>
                                        <span class="info-box-number" id="UsersNumber"></span>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <div class="info-box" onclick="location.href='@Url.Action("Index","Purchase")'" style="cursor:pointer">
                                    <span class="info-box-icon" style="background-color:#06d6a0">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#ffffff" class="bi bi-cart3" viewBox="0 0 16 16">
                                            <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
                                        </svg>
                                    </span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">@localizer["NbPurchase"]</span>
                                        <span class="info-box-number" id="PurchasesNumber"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row justify-content-between">
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <div class="info-box" onclick="location.href='@Url.Action("Index","Ejournal")'" style="cursor:pointer">
                                    <span class="info-box-icon" style="background-color:#ff97b7">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#ffffff" class="bi bi-journals" viewBox="0 0 16 16">
                                            <path d="M5 0h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2 2 2 0 0 1-2 2H3a2 2 0 0 1-2-2h1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1H1a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v9a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1H3a2 2 0 0 1 2-2z" />
                                            <path d="M1 6v-.5a.5.5 0 0 1 1 0V6h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V9h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 2.5v.5H.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H2v-.5a.5.5 0 0 0-1 0z" />
                                        </svg>
                                    </span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">@localizer["NbEjournal"]</span>
                                        <span class="info-box-number" id="EjournalsNumber"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <div class="info-box" onclick="location.href='@Url.Action("Index","Ebook")'" style="cursor:pointer">
                                    <span class="info-box-icon" style="background-color:#9d4edd">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#ffffff" class="bi bi-wallet" viewBox="0 0 16 16">
                                            <path d="M0 3a2 2 0 0 1 2-2h13.5a.5.5 0 0 1 0 1H15v2a1 1 0 0 1 1 1v8.5a1.5 1.5 0 0 1-1.5 1.5h-12A2.5 2.5 0 0 1 0 12.5V3zm1 1.732V12.5A1.5 1.5 0 0 0 2.5 14h12a.5.5 0 0 0 .5-.5V5H2a1.99 1.99 0 0 1-1-.268zM1 3a1 1 0 0 0 1 1h12V2H2a1 1 0 0 0-1 1z" />
                                        </svg>
                                    </span>
                                    <div class="info-box-content">
                                        <span class="info-box-text">@localizer["NbEbook"]</span>
                                        <span class="info-box-number" id="BooksNumber"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <main role="main">
                            @RenderBody()
                        </main>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="menu-footer">
                            <ul>
                                <li>
                                    <a href="#">@localizer["AboutAlFikr"]</a>
                                </li>
                                <li>
                                    <a href="#">@localizer["PrivacyPolicy"]</a>
                                </li>
                                <li>
                                    <a href="#">@localizer["TermsOfUse"]</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- End Footer -->
        <!-- End Content -->
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="~/assets/jquery/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="~/assets/bootstrap/bootstrap.min.js"></script>

    <script>

        var cultureInfo = '@System.Globalization.CultureInfo.CurrentCulture.Name';
        var InvalidInput = '@localizer["InvalidInput"]';
        var EmptyCart = '@localizer["EmptyCart"]';
        var ConfirmPurchase = '@localizer["ConfirmPurchase"]';

        var AppGlobal = {
           "user" : {
                  "role": "@User.FindFirst(claim=>claim.Type==System.Security.Claims.ClaimTypes.Role)?.Value",
                  "Name" : "@User.FindFirst(claim=>claim.Type==System.Security.Claims.ClaimTypes.Name)?.Value"
           },
        };
        $(document).ready(function () {

            if (AppGlobal.user.role == "User" || AppGlobal.user.role == "Admin") {

                $.ajax({
                    url: '/PurchaseLine/NbPurchaseLine',
                    type: 'post',
                    dataType: 'json',
                    cache: false,
                    success: function (response) {
                        $('#NbPurchaseLine').text(response)
                        $.ajax({
                            url: '/PurchaseLine/PurchaseLineUser',
                            type: 'post',
                            dataType: 'json',
                            cache: false,
                            success: function (response) {
                                console.log(response)
                                if (response != null) {
                                    for (var j = 0; j < response.listDocumentPurchased.length; j++) {
                                        for (var i = 0; i < response.listPurchaseLine.length; i++) {
                                            if (response.listDocumentPurchased[j].id == response.listPurchaseLine[i].idDocument) {
                                                $('#dropdown-content').append(`
                                                <div class="row justify-content-center align-content-center p-2">
                                                    <div class="col-md-3 text-center">
                                                        <div class="row justify-content-start align-content-center" style="width:80px;">
                                                            <img src="${"../../uploads/CoverPage/" + response.listDocumentPurchased[j].coverPageName}" class="col-md-12" style="border-radius: 50%; height:50px">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <div class="row justify-content-start align-content-center" style="height:25px">
                                                            <span style="font-family: 'Roboto', sans-serif;font-size:15px"><b>${response.listDocumentPurchased[j].originalTitle} </b></span>
                                                        </div>
                                                        <div class="row justify-content-start align-content-center" style="height:25px">
                                                            <span style="font-family: 'Roboto', sans-serif;font-size:12px">${response.listPurchaseLine[i].unitPrice} DT * ${response.listPurchaseLine[i].quantity}</span>
                                                        </div>
                                                    </div>
                                                </div>`
                                                )
                                            }
                                        }
                                    }
                                    $('#dropdown-content').append(`
                                    <div class="row justify-content-center align-content-center p-2">
                                        <div class="col-md-12">
                                            <div class="row justify-content-start align-content-center" style="height:25px">
                                                <span style="font-family: 'Roboto Condensed', sans-serif;font-size:15px;color:coral">
                                                    <b style="color:#7868e6">Total TTC : </b>${response.purchase.amountTTC} DT
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row justify-content-center align-content-center p-2">
                                        <div class="col-md-12 pb-2">
                                            <div class="row justify-content-center align-content-center pt-2 pb-2" style="height:25px ">
                                                <a class="text-center btn btn-light" style="font-size:15px;cursor:pointer;" href="/PurchaseLine/ListPurchaseLine">
                                                     @localizer["ConfirmPurchase"]
                                                </a>
                                            </div>
                                        </div>
                                    </div>
`)
                                } else {
                                    $('#dropdown-content').append(`
                                    <div class="row justify-content-center align-content-center p-2">
                                        <div class="col-md-12">
                                            <div class="row justify-content-center align-content-center" style="height:25px">
                                                <span style="font-family: 'Roboto Condensed', sans-serif;font-size:15px;color:coral">
                                                    <b>@localizer["EmptyCart"]</b>
                                                </span>
                                            </div>
                                        </div>
                                    </div>`)
                                }
                            },
                            error: function (xhr, error, status) {
                                console.log(error, status);
                            }
                        });
                    },
                    error: function (xhr, error, status) {
                        console.log(error, status);
                    }
                });
            }

            if ($('#homeSubmenu > li').hasClass('active')) {
                $('#homeSubmenu').collapse()
            }

            if ($('#documentSubmenu > li').hasClass('active')) {
                $('#documentSubmenu').collapse()
            }

            if ($('#pageSubmenu > li').hasClass('active')) {
                $('#pageSubmenu').collapse()
            }

            if ($('#documentAddSubmenu > li').hasClass('active')) {
                $('#pageSubmenu').collapse();
                $('#documentAddSubmenu').collapse();
            }

            if (location.href == "https://localhost:44341/User/UpsertUser") {
                console.log("true")
                $('#homeSubmenu > li').removeClass('active');
            }

            if (location.href != "https://localhost:44341/User/Details/-1") {
                $('#homeSubmenu > li').removeClass('active');
            }

            if (location.href != "https://localhost:44341/User/UpsertUser/-1") {
                $('#homeSubmenu > li').removeClass('active');

            }
        });


    </script>

    <!-- DataTables Implementation-->
    <script src="~/assets/datatables/js/jquery.dataTables.min.js"></script>
    <script src="~/assets/datatables/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script src="~/assets/js/Admin.js" asp-append-version="true"></script>

    @RenderSection("Scripts", required: false)
</body>
</html>
